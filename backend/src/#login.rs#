//! Functions handling authentication stuff

use anyhow::Result;

/// Representation of the apikey
pub type ApiKey = String;

/// Uses login credentials to get apikey
pub fn login(conn: &UserDataBase, username: String, password: String) -> Result<ApiKey> {
    // Query database
    // Check shit
    // Send Apikey
    todo![]
}

/// Signs the username up with the password
pub fn signup(conn: &UserDataBase, username: String, password: String) -> Result<ApiKey> {
    // Query database
    // Check duplicates
    // Check if allowed teacher
    // Create user
    // Send Apikey
    todo![]
}

/// The different permissions a user can have
pub enum Permission {
    Student,
    Teacher,
    Admin,
}

/// Changes the permission of a user
pub fn set_permission(conn: &UserDataBase, username: String, permission: Permission) -> Result<()> {
    // Query database
    // Set permission
    todo![]
}
